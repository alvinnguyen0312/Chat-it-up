(this.webpackJsonpreactexercises=this.webpackJsonpreactexercises||[]).push([[0],{132:function(e,t){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),s=a(21),l=a(83),c=a(84),i=a.n(c),m=a(178),u=a(90),g=Object(u.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(58, 125, 204, 1)",main:"rgba(247, 158, 6, 1)",dark:"rgba(22, 23, 24, 1)",contrastText:"#fff"},secondary:{light:"rgba(211, 28, 90, 1)",main:"rgba(0, 0, 0, 1)",dark:"rgba(126, 211, 33, 1)",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),f=a(87),h=a.n(f),p=a(164),d=a(167),E=a(16),y=a(168),b=function(e){return o.a.createElement(p.a,{position:"fixed",style:{flex:1,flexDirection:"row"}},o.a.createElement(d.a,{color:"primary",title:"Sample Toolbar"},o.a.createElement(E.a,{variant:"h6",color:"inherit",style:{marginTop:20,paddingLeft:10}},"Chat it Up - Kiet Nguyen"),e.showIcon&&o.a.createElement("section",{style:{height:90,width:90,marginLeft:"auto"}},o.a.createElement(y.a,{onClick:function(){return e.viewDialog()}},o.a.createElement(h.a,{color:"secondary",style:{fontSize:70,paddingLeft:60}})))))},N=a(88),v=a.n(N),x=a(182),w=a(169),C=a(170),k=a(171),j=a(172),R=a(173),T=function(e){return o.a.createElement(x.a,{open:e.openDialog,onClose:e.closeDialog,style:{margin:20}},o.a.createElement(w.a,{style:{textAlign:"center"}},"Who's On?"),o.a.createElement(C.a,null,e.clients.map((function(t){return o.a.createElement(k.a,{key:t},o.a.createElement(j.a,null,o.a.createElement(v.a,null)),o.a.createElement(R.a,null,t," is in room ",e.room))}))))},O=a(89),S=a.n(O),D=a(174),M=a(175),L=a(179),I=a(183),J=a(176),W=a(181),F=a(177),q=function(e){return o.a.createElement(D.a,null,o.a.createElement(S.a,{color:"primary",style:{fontSize:60,marginLeft:"45%",marginTop:80}}),o.a.createElement(M.a,{title:"Sign In",color:"inherit",style:{textAlign:"center",paddingTop:"2vh"}}),o.a.createElement(n.Fragment,null,o.a.createElement(L.a,{onChange:e.onNameChange,placeholder:"Chat Name",autoFocus:!0,required:!0,value:e.chatName,error:""!==e.status,helperText:e.status}),o.a.createElement("p",null),o.a.createElement(E.a,{variant:"h6",color:"inherit"},"Join Existing or Enter Room Name"),o.a.createElement("p",null),o.a.createElement(I.a,{value:e.roomName},e.rooms.map((function(t){return o.a.createElement(J.a,{control:o.a.createElement(W.a,{color:"primary",onChange:function(){return function(t){e.selectRoom(t)}(t)}}),label:t,value:t,key:t})}))),o.a.createElement("p",null),o.a.createElement(L.a,{onChange:e.onRoomChange,placeholder:"Room Name",autoFocus:!0,required:!0,value:e.roomName,error:""!==e.statusRoom,helperText:e.statusRoom}),o.a.createElement("p",null),o.a.createElement(F.a,{variant:"contained",color:"primary",style:{marginLeft:"3%"},onClick:e.handleJoin,disabled:""===e.chatName||""===e.roomName},"Join")))},z=(a(139),function(e){var t=e.msg,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){a.current.scrollIntoView(!0)}),[]),o.a.createElement(k.a,{ref:a,style:{textAlign:"left"}},o.a.createElement("div",{className:"chatBubble",style:{backgroundColor:t.colour,left:"".concat(t.chatBubbleCSS)}},o.a.createElement("p",null,t.time," - Room: ",t.room),o.a.createElement("p",null,t.from," says:"),o.a.createElement("p",{style:{fontSize:17,fontWeight:"bold",fontStyle:"normal"}},t.text)),o.a.createElement("div",{className:"triangle",style:{content:"",position:"absolute",bottom:"-15px",left:"".concat(t.triangleCSS),borderWidth:"15px 15px 0",borderStyle:"solid",borderColor:"".concat(t.colour," transparent")}}))}),A=function(e){return o.a.createElement("div",{className:"chat-container"},o.a.createElement("div",{className:"chatList"},o.a.createElement(C.a,null,e.messages.map((function(e,t){return o.a.createElement(z,{msg:e,key:t})})))),o.a.createElement("div",{className:"chatInput"},!e.showjoinfields&&o.a.createElement(L.a,{onChange:e.onMessageChange,placeholder:"type something here",autoFocus:!0,value:e.message,onKeyPress:function(t){return"Enter"===t.key?function(t){e.sendMessage(t)}():null}})),o.a.createElement(E.a,{variant:"caption",color:"primary"},e.typingMsg)," ")},B=function(){var e=Object(n.useReducer)((function(e,t){return Object(l.a)({},e,{},t)}),{messages:[],status:"enter a chat name",statusRoom:"enter a room name",showjoinfields:!0,alreadyexists:!1,chatName:"",roomName:"",typingMsg:"",isTyping:!1,message:"",rooms:[],clients:[],openDialog:!1,showWhoLogOnIcon:!1,usersinroom:[]}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=function(e){E(e),r({showjoinfields:!1,alreadyexists:!1,showWhoLogOnIcon:!0,usersinroom:e.usersinroom})},u=function(e){r({rooms:e})},f=function(e){r({clients:e})},h=function(e){r({status:e})},p=function(e){r({typingMsg:e.text})};Object(n.useEffect)((function(){d()}),[]);var d=function(){var e=i()();e.on("loadclients",f),e.on("loadrooms",u),e.on("nameexists",h),e.on("welcome",c),e.on("someonejoined",E),e.on("someoneleft",E),e.on("someoneistyping",p),e.on("newmessage",y),r({socket:e})},E=function(e){var t=a.messages;t.push(e),r({messages:t,usersinroom:e.usersinroom})},y=function(e){E(e),r({typingMsg:"",message:""})};return o.a.createElement(m.a,{theme:g},o.a.createElement(b,{viewDialog:function(){return r({openDialog:!0})},showIcon:a.showWhoLogOnIcon}),o.a.createElement(T,{openDialog:a.openDialog,closeDialog:function(){return r({openDialog:!1})},clients:a.usersinroom,room:a.roomName}),a.showjoinfields&&o.a.createElement(q,{onNameChange:function(e){r({chatName:e.target.value})},chatName:a.chatName,status:a.status,roomName:a.roomName,rooms:a.rooms,selectRoom:function(e){r({roomName:e})},onRoomChange:function(e){r({roomName:e.target.value})},statusRoom:a.statusRoom,handleJoin:function(){a.socket.emit("join",{chatName:a.chatName,roomName:a.roomName})}}),o.a.createElement(A,{messages:a.messages,showjoinfields:a.showjoinfields,onMessageChange:function(e){r({message:e.target.value}),!1===a.isTyping&&(a.socket.emit("typing",{from:a.chatName},(function(e){})),r({isTyping:!0}))},message:a.message,sendMessage:function(e){""!==a.message&&(a.socket.emit("message",{from:a.chatName,text:a.message},(function(e){})),r({isTyping:!1}))},typingMsg:a.typingMsg}))};Object(r.render)(o.a.createElement(B,null),document.querySelector("#root"))},99:function(e,t,a){e.exports=a(140)}},[[99,1,2]]]);